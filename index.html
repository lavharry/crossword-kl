<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Under Our Stars âœ¨</title>

<style>
body {
  margin: 0;
  overflow: hidden;
  font-family: Georgia, serif;
  background: linear-gradient(to bottom, #000814, #0b1d3a);
  color: white;
  text-align: center;
}

canvas {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1;
}

.content {
  position: relative;
  z-index: 2;
  margin: auto;
  padding: 40px 20px;
  max-width: 700px;
}

h1 {
  font-size: 30px;
  margin-bottom: 15px;
}

.story, .final {
  font-size: 18px;
  opacity: 0;
  transition: opacity 2s ease;
}

button {
  margin-top: 30px;
  padding: 12px 24px;
  font-size: 16px;
  border: none;
  border-radius: 25px;
  background: #ff6b9d;
  color: white;
  cursor: pointer;
}

button:hover {
  background: #ff3f7f;
}

audio {
  margin-top: 20px;
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div class="content">
  <h1>ðŸŒ™ Under Our Stars ðŸŒ™</h1>

  <audio controls>
    <source src="romantic-ambient.mp3" type="audio/mpeg">
    *Your browser doesnâ€™t support audio controls*
  </audio>

  <p class="story" id="storyText">
    It started on OkCupidâ€¦<br><br>
    Then came June vows.<br><br>
    Mexico sunsets.<br><br>
    Stargazing nights.<br><br>
    Mufasa cuddles.<br><br>
    Illaria and Elliott laughter filling our home.<br><br>
    Seven â€” our number.<br><br>
    Honey Honeyâ€¦ Cactusâ€¦<br><br>
    You are my forever sky.
  </p>

  <button onclick="reveal()">Watch the Sky Glow âœ¨</button>

  <p class="final" id="finalMessage">
    Home is you. Always. ðŸ’–
  </p>

</div>

<script>
// Starfield + Constellation Heart

const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// create stars
let stars = [];
for (let i = 0; i < 200; i++) {
  stars.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 2,
    alpha: Math.random()
  });
}

// draw twinkling stars
function drawStarfield() {
  ctx.fillStyle = "rgba(0, 0, 0, 0.2)";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  stars.forEach(s => {
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.r, 0, 2 * Math.PI);
    ctx.fillStyle = `rgba(255,255,255,${s.alpha})`;
    ctx.fill();
    s.alpha += (Math.random() - 0.5) * 0.02;
    if (s.alpha < 0) s.alpha = 0;
    if (s.alpha > 1) s.alpha = 1;
  });

  requestAnimationFrame(drawStarfield);
}

drawStarfield();

// heart constellation points
const heartPoints = [];
for (let angle = 0; angle < Math.PI * 2; angle += 0.1) {
  const x = 300 + 120 * Math.sin(angle) ** 3;
  const y = 200 - (130 * Math.cos(angle) - 50 * Math.cos(2 * angle) - 20 * Math.cos(3 * angle) - 10 * Math.cos(4 * angle));
  heartPoints.push({x, y});
}

let heartFrame = 0;
function drawHeart() {
  // fade in constellation
  if (heartFrame < heartPoints.length) heartFrame++;
  ctx.strokeStyle = "rgba(255, 182, 193, 0.8)";
  ctx.lineWidth = 1.5;
  ctx.beginPath();
  for (let i = 0; i < heartFrame; i++) {
    if (i === 0) ctx.moveTo(heartPoints[i].x, heartPoints[i].y);
    else ctx.lineTo(heartPoints[i].x, heartPoints[i].y);
  }
  ctx.stroke();

  if (heartFrame < heartPoints.length) requestAnimationFrame(drawHeart);
}

function reveal() {
  document.getElementById("storyText").style.opacity = 1;
  setTimeout(() => {
    document.getElementById("finalMessage").style.opacity = 1;
    drawHeart();
  }, 4000);
}

</script>

</body>
</html>
